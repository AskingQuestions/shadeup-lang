<!DOCTYPE html>
<html>
	<head>
		<title>Shadeup sandbox</title>
		<script>
			window.addEventListener('message', function (e) {
				var mainWindow = e.source;
				var result = '';
				try {
					const postMessage = (v) => mainWindow.postMessage(v, event.origin);
					eval(e.data);
					result = main__shadeup_main();
				} catch (e) {
					result = 'eval() threw an exception.';
				}
				mainWindow.postMessage(result, event.origin);
			});
		</script>
	</head>
</html>
